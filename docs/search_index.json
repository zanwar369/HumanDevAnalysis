[["index.html", "Human Development Analysis Chapter 1 Introduction", " Human Development Analysis Zohaib Anwar, Lu Bin Liu, Michelle Strayer 2020-11-23 Chapter 1 Introduction "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources The data used for this project is downloaded from the United Nations Development Programme - Human Development Reports website. The United Nations Development Programmes (UNDP) Human Development Report Office (HDRO) compiles this data for the purpose of tracking human well being in countries around the world. This data is used extensively by the HDRO in its (near) annual Human Development Report (HDR). The report highlights human development in large part using various the human development indices (HDI), derived metrics for measuring human development which takes into account factors beyond economics. However for this project, HDI will not be a principal part of the investigation. According to the Human Development Report 2019: Readers Guide, the data used, at least for the 2019 HDR, is collected from international data agencies with the mandate, resources, and expertise to collect national data on specific indicators. Based on the Statistical Acknowledgement section of the guide, the HDR data was aggregated by the HDRO from a large number of organizations that are reputable and specializes in the field from which the data was collected. For the 2019 HDR, these included international agencies like the World Health Organization, the World Bank, and many others. The HDRO also provides contact information, where available, for organizations it sourced HDR data from. The data available for download from UNDPs website linked in the first paragraph consists of 12 different indicators of human development (plus HDI) and for each indicator, there are a number of descriptive features of that indicator for which data is available. For example, there are 9 features which fall under the Demography indicator, ranging from Median age (years) to Young age (0-14) dependency ratio (per 100 people ages 15-64). For each feature, a data table, if available, is provided where the columns include HDI Rank (2018), Country, and one column for every year (i.e. 1990) for which data is aggregated. Every column except Country contains numerical data. The years for which data is available falls in the range from 1990 to 2018. For this project, we will be examining 3 of the 12 indicators: Inequality, Human Security, and Education, which has 15, 7, and 19 features respectively. These features will be investigated in further detail in subsequent sections. Investigation showed that there are a number of issues with this data set as summarized below: The Human Development Report 2019: Readers Guide note that due to data accessibility and processing methodology, there may be discrepancies in data between national and international agencies. While the data set contains data from 1990 to 2018, it does not consistently store data for this time frame for every feature for every indicator. For example, some features have data going back to 1990 but others only back to 2010. Even within the same indicator, difference features have data for different time intervals. Some features have data for each year, others every 5 years. Data for some feature do not have data in even time intervals. For example, Prison population (per 100,000 people) has data for years 2003, 2005, 2010, 2011 etc. As will be detailed in subsequent sections, the proportion of missing data is high for some countries. For certain feature - country combinations, 2018 data was not available and was filled with the data from the most recent available year. It was not explicitly stated in the source documentation, but given that the data is collected from 1990-2018 and aggregated from numerous sources, it is possible that there lacks consistency in data collection and computation of certain metrics over time. For instance, method of calculating the HDI is continuously being adjusted. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation In order to work with the amount of data we split the work into three separate buckets Human Security, education, and inequality. We all performed similar transformations detailed below. 3.0.1 Human Security Data Transformation Below is the code required to compose and organize the Human Security dataset. Transforming this data largely required reorganizing the dataframe into a tidy format. A great number of data values are missing, discussed below. Converting the data from its .csv file into a workable R dataframe required removing blank columns (which had been left in the Excel files for visual appeal) and renaming columns to prime them for the pivot_longer function. Further, to avoid losing data when merging the Human Security variable datasets (Homeless- ness from natural disasters, Homicide rate, Prison population, Refugees by country of origin, Suicide rate for males, and Suicide rate for females), the all.x and all.y conditions were specified. Then, to ensure that all missing data were coded appropriately, a for loop was introduced to convert all numeric data columns in the dataset into numeric type. The result is a tidy dataset of all Human Security variables. 3.0.2 INEQUALITY DATA TRANSFORMATION The Inequality indicator has 15 features from years 2010 to 2018 (one column per year). However, the data table for 6 of these features were not available for download. The remaining 9 features for which data tables were available and was extracted were: Coefficient of Human Inequality Inequality-adjusted education index Inequality-adjusted HDI (IHDI) Inequality-adjusted income index Inequality-adjusted life expectancy index Inequality in education (%)^ Inequality in income (%)^ Inequality in life expectancy (%) Overall loss in HDI due to inequality (%) ^ Data for 2018 is either from 2018 or the latest year available. Note that the column HDI Rank (2018) is kept as a reference column and not for analysis. Now to take a high level look at the data itself, print the head and tail of the sixth data frame in the list inequality_list, which contains data for the Inequality in education (%) as a sample: ## # A tibble: 6 x 11 ## `HDI Rank (2018)` Country `2010` `2011` `2012` `2013` `2014` `2015` `2016` `2017` `2018` ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 170 Afghanistan 39.3 39.3 39.3 45.0 44.8 44.8 45.4 45.4 45.4 ## 2 69 Albania 12.7 11.9 11.9 11.9 11.9 11.9 9.1 8.5 12.3 ## 3 82 Algeria .. .. .. .. .. .. 33.7 33.7 33.7 ## 4 36 Andorra .. .. .. .. .. .. .. 9.4 10.0 ## 5 149 Angola 26.2 .. 34.6 34.6 34.6 34.6 34.3 34.3 34.3 ## 6 48 Argentina 12.1 12.1 12.1 8.6 8.1 8.1 6.1 6.2 6.2 ## # A tibble: 6 x 11 ## `HDI Rank (2018)` Country `2010` `2011` `2012` `2013` `2014` `2015` `2016` `2017` `2018` ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 &lt;NA&gt; Small Island Developing States 27.6 29.6 30.1 22.0 21.1 20.5 19.9 19.6 19.7 ## 2 &lt;NA&gt; Organization for Economic Co-operation and D~ 8.4 9.0 9.6 10.2 9.5 9.5 10.0 8.3 8.2 ## 3 &lt;NA&gt; World 26.2 26.3 27.0 27.2 26.9 25.9 25.7 22.3 17.4 ## 4 a: See http://hdr.undp.org/en/composite/IHDI for the list of surveys used to estima~ &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; ## 5 b: Data refer to 2018 or the most recent year available. &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; ## 6 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; Inspection of the remaining data frame indicate that the last rows for every data frame in inequality_list are NA. In addition, some data frames have foot notes at the end of the table that was read in as a value in the first column. These rows are removed. The below shows that the number of rows in the data frame for each feature is different. This implies not every feature has the same list of countries. ## [1] &quot;Coefficient of Human Inequality feature has 206 rows and 11 columns.&quot; ## [1] &quot;Inequality-adjusted education index feature has 206 rows and 11 columns.&quot; ## [1] &quot;Inequality-adjusted HDI (IHDI) feature has 206 rows and 11 columns.&quot; ## [1] &quot;Inequality-adjusted income index feature has 208 rows and 11 columns.&quot; ## [1] &quot;Inequality-adjusted life expectancy index feature has 208 rows and 11 columns.&quot; ## [1] &quot;Inequality in education (%) feature has 208 rows and 11 columns.&quot; ## [1] &quot;Inequality in income (%) feature has 208 rows and 11 columns.&quot; ## [1] &quot;Inequality in life expectancy (%) feature has 208 rows and 11 columns.&quot; ## [1] &quot;Overall loss in HDI due to inequality (%) feature has 206 rows and 11 columns.&quot; To investigate this further: ## [1] &quot;Nauru&quot; &quot;Tuvalu&quot; &quot;Korea (Democratic People&#39;s Rep. of)&quot; &quot;Somalia&quot; It looks like these four countries shows up for some features and not others. We can expect a lot of missing data for at least these four countries. The next step is to create a single tidy data frames for Inequality. Each data frame in inequality_list has column headings 2010 to 2018 which are values not variables. In addition, each data frame in inequality_list is from the same observational unit (Inequality) and should be in one data frame. To convert the list of data frames inequality_list into a single tidy data frame, use pivot_longer and full_join to create the tidy data frame inequality_df. ## # A tibble: 6 x 12 ## `HDI Rank (2018)` Country Year `Coefficient of ~ `Inequality-adjus~ `Inequality-adju~ `Inequality-adju~ `Inequality-adju~ `Inequality in ~ `Inequality in ~ `Inequality in l~ `Overall loss in~ ## &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 170 Afghani~ 2010 .. 0.226 .. .. 0.260 39.3 .. 58.8 .. ## 2 170 Afghani~ 2011 .. 0.227 .. .. 0.314 39.3 .. 50.9 .. ## 3 170 Afghani~ 2012 .. 0.237 .. .. 0.318 39.3 .. 50.9 .. ## 4 170 Afghani~ 2013 30.0 0.219 0.333 0.391 0.430 45.0 10.8 34.3 31.4 ## 5 170 Afghani~ 2014 30.0 0.223 0.335 0.389 0.434 44.8 10.8 34.3 31.4 ## 6 170 Afghani~ 2015 30.4 0.224 0.334 0.388 0.429 44.8 10.8 35.7 31.9 Note that the columns of inequality_df are currently all of type &lt;chr&gt; when only Country should be of type &lt;chr&gt;, Year should be of type integer, and the remaining be of type numeric. This is because missing values are given as .. instead of NA. Convert the relevant columns to numeric which coerces .. to NAs in the process. ## # A tibble: 6 x 12 ## `HDI Rank (2018)` Country Year `Coefficient of ~ `Inequality-adjus~ `Inequality-adju~ `Inequality-adju~ `Inequality-adju~ `Inequality in ~ `Inequality in ~ `Inequality in l~ `Overall loss in~ ## &lt;dbl&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 170 Afghani~ 2010 NA 0.226 NA NA 0.26 39.3 NA 58.8 NA ## 2 170 Afghani~ 2011 NA 0.227 NA NA 0.314 39.3 NA 50.9 NA ## 3 170 Afghani~ 2012 NA 0.237 NA NA 0.318 39.3 NA 50.9 NA ## 4 170 Afghani~ 2013 30 0.219 0.333 0.391 0.43 45 10.8 34.3 31.4 ## 5 170 Afghani~ 2014 30 0.223 0.335 0.389 0.434 44.8 10.8 34.3 31.4 ## 6 170 Afghani~ 2015 30.4 0.224 0.334 0.388 0.429 44.8 10.8 35.7 31.9 To complete the data transformation, notice that under Country, the last 17 rows of each data frame contain aggregate data regional data, and are not countries: ## [1] &quot;Human Development&quot; &quot;Very high human development&quot; &quot;High human development&quot; ## [4] &quot;Medium human development&quot; &quot;Low human development&quot; &quot;Developing Countries&quot; ## [7] &quot;Regions&quot; &quot;Arab States&quot; &quot;East Asia and the Pacific&quot; ## [10] &quot;Europe and Central Asia&quot; &quot;Latin America and the Caribbean&quot; &quot;South Asia&quot; ## [13] &quot;Sub-Saharan Africa&quot; &quot;Least Developed Countries&quot; &quot;Small Island Developing States&quot; ## [16] &quot;Organization for Economic Co-operation and Development&quot; &quot;World&quot; Therefore, they will be removed from inequality_df. The head and tail of the tidy data frame is: ## # A tibble: 6 x 12 ## `HDI Rank (2018)` Country Year `Coefficient of ~ `Inequality-adjus~ `Inequality-adju~ `Inequality-adju~ `Inequality-adju~ `Inequality in ~ `Inequality in ~ `Inequality in l~ `Overall loss in~ ## &lt;dbl&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 170 Afghani~ 2010 NA 0.226 NA NA 0.26 39.3 NA 58.8 NA ## 2 170 Afghani~ 2011 NA 0.227 NA NA 0.314 39.3 NA 50.9 NA ## 3 170 Afghani~ 2012 NA 0.237 NA NA 0.318 39.3 NA 50.9 NA ## 4 170 Afghani~ 2013 30 0.219 0.333 0.391 0.43 45 10.8 34.3 31.4 ## 5 170 Afghani~ 2014 30 0.223 0.335 0.389 0.434 44.8 10.8 34.3 31.4 ## 6 170 Afghani~ 2015 30.4 0.224 0.334 0.388 0.429 44.8 10.8 35.7 31.9 ## # A tibble: 6 x 12 ## `HDI Rank (2018)` Country Year `Coefficient of H~ `Inequality-adjus~ `Inequality-adju~ `Inequality-adju~ `Inequality-adju~ `Inequality in ~ `Inequality in ~ `Inequality in l~ `Overall loss in~ ## &lt;dbl&gt; &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 NA Somalia 2013 NA NA NA NA 0.313 NA NA 42.1 NA ## 2 NA Somalia 2014 NA NA NA NA 0.316 43.5 NA 42.1 NA ## 3 NA Somalia 2015 NA NA NA NA 0.32 43.5 NA 42.1 NA ## 4 NA Somalia 2016 NA NA NA NA 0.341 NA NA 38.9 NA ## 5 NA Somalia 2017 NA NA NA NA 0.345 NA NA 38.9 NA ## 6 NA Somalia 2018 NA NA NA NA 0.348 NA NA 38.9 NA 3.0.3 EDUCATION DATA TRANSFORMATION In order to read in the education data I first take in every file in the relevant Education directory. With this data I determine the relevant NAs in the files, and code those as NAs. Similarly I skip the first line in the file which are blank. Then I remove any rows that are irrelevant specifically the rows with footnotes. Finally I remove additional columns, and change data types if necessary, and am then ready to transform the data itself. dr=&quot;./Education/csv&quot; file_list &lt;- list.files(path=dr,pattern=&quot;*.csv&quot;) dttyp&lt;-c(&quot;EdInd&quot;,&quot;ExpSch&quot;,&quot;ExpSchF&quot;,&quot;ExpSchM&quot;,&quot;GovMon&quot;,&quot;GERPP&quot;,&quot;GERP&quot;,&quot;GERS&quot;,&quot;GERT&quot;, &quot;LitR&quot;,&quot;MYSch&quot;,&quot;MYSchF&quot;,&quot;MYSchM&quot;,&quot;PerPSInt&quot;,&quot;PerSSInt&quot;,&quot;PopSSF25U&quot;,&quot;PopSSM25U&quot;, &quot;PSDrop&quot;,&quot;PSTchTrn&quot;,&quot;PISAMth&quot;,&quot;PISARead&quot;,&quot;PISAScn&quot;,&quot;PupTchRPS&quot;,&quot;SurvRSGE&quot;) for (i in 1:length(file_list)){ df_temp&lt;-read.csv(paste(dr,&quot;/&quot;,file_list[i],sep=&quot;&quot;),skip=1,header=T, check.names = F,na.strings=c(&quot;..&quot;,&quot;&quot;,&quot; &quot;,&quot;&lt;NA&gt;&quot;)) df_temp&lt;-subset(df_temp,!grepl(&quot;[a-z]:&quot;,df_temp$`HDI Rank (2018)`)) df_temp$`HDI Rank (2018)`&lt;-as.numeric(df_temp$`HDI Rank (2018)`) df_temp$var&lt;-dttyp[i] if (i==1) { df_ed&lt;-df_temp[!sapply(df_temp, function(x) all(is.na(x)))]} else {df_ed&lt;-bind_rows(df_ed,df_temp[!sapply(df_temp, function(x) all(is.na(x)))])} } df_ed&lt;-df_ed[,!grepl(&quot;\\\\.[0-9]&quot;,colnames(df_ed))] Once the files are read in correctly I create two separate forms of the data. One with each variable as a column, and year as its own signular column using pivot longer, and wider, and one where the relevant education vartiables are also in a singular column. While the seconde format is not necessarily tidy this will help look at missings across the data. df_ed_lg&lt;-df_ed %&gt;% pivot_longer(cols=!c(&quot;HDI Rank (2018)&quot;,&quot;Country&quot;,&quot;var&quot;),names_to=&quot;Year&quot;,values_to=&quot;HDI&quot;) df_ed_td&lt;-df_ed_lg %&gt;% pivot_wider(names_from=&quot;var&quot;,values_from=&quot;HDI&quot;) "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values 4.0.1 HUMAN SECURITY MISSING DATA ###INEQUALITY MISSING DATA ###EDUCATION MISSING DATA "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "]]
